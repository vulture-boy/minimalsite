function setup(){CanvasPrep(),DOMPrep(),Initialization(),UpdateAll()}function CanvasPrep(){extentsX=windowWidth,extentsY=windowHeight;var e=createCanvas(extentsX,extentsY);e.parent("jumbo-canvas"),e.position(0,0),e.style("z-index","0"),frameRate(fr)}function DOMPrep(){}function Initialization(){deadColor=color("#bfb9b2e6"),liveColor=color("#f2ffef00"),InitializeCells()}function draw(){UpdateAll()}function UpdateAll(){RunActions(),MouseHover(),Visualize()}function MouseHover(){var e=[floor(mouseX/windowWidth*numCellsX),floor(mouseY/windowHeight*numCellsY)];e[0]>=0&&e[0]<numCellsX&&e[1]>=0&&e[1]<numCellsY&&(cells[e[0]][e[1]]=mouseBool?1:0),lastCellX=e[0],lastCellY=e[1]}var mouseBool=!1;function mousePressed(){mouseBool=!0}function mouseReleased(){mouseBool=!1,mouseButton===RIGHT&&InitializeCells()}var deadColor,liveColor,gridColor,extentsX,extentsY,initMethod=2,behaveMethod=0,cells=[],cellsTemp=[],cellSize=24,shades=1,genColMethod=0,shape=0,autoRun=!0,tick=!1,autoRunTime=0,fr=15,autoRunTimeMax=120;function RunActions(){if(autoRun||tick){if(autoRunTimeMax<millis()-autoRunTime){switch(behaveMethod){case 0:default:Interact()}autoRunTime=millis()}tick=!1}}function Interact(){for(var e=0;e<numCellsX;e++)for(var l=0;l<numCellsY;l++)if(0==behaveMethod){e<numCellsX-2?valRight=cells[e+2][l]:valRight=cells[e][l],l<numCellsY-2?valDown=cells[e][l+2]:valDown=cells[e][l],valLeft=e>2?cells[e-2][l]:cells[e][l],valUp=l>2?cells[e][l-2]:cells[e][l];var o=(valDown+valRight+valUp+valLeft)/4,n=.001;mouseBool&&(n=-.004);var s=lerp(cells[e][l],o,.8);cellsTemp[e][l]=Math.min(s+n,1)}for(e=0;e<numCellsX;e++)for(l=0;l<numCellsY;l++)cells[e][l]=cellsTemp[e][l]}function Visualize(){for(var e=0;e<numCellsX;e++)for(var l=0;l<numCellsY;l++){var o=e,n=l;erase(),DrawCell(color(255,255,255),o,n),noErase(),noStroke();var s=color(0,0,0);0==genColMethod&&(colorMode(RGB),s=lerpColor(deadColor,liveColor,cells[o][n])),DrawCell(s,o,n)}}function DrawCell(e,l,o){switch(fill(e),shape){case 0:default:square(round(l*cellSize),round(o*cellSize),cellSize);break;case 1:ellipse(round(l*cellSize),round(o*cellSize),1.3*cellSize)}}{function InitializeCells(){cells=[],numCellsX=floor(extentsX/cellSize),numCellsY=floor(extentsY/cellSize);for(var e=0;e<numCellsX;e++){cells[e]=[],cellsTemp[e]=[];for(var l=0;l<numCellsY;l++){switch(initMethod){case 2:cells[e][l]=.5;break;case 1:cells[e][l]=random();break;case 0:default:cells[e][l]=0}cellsTemp[e][l]=0}}}}{function clamp(e,l,o){return Math.min(Math.max(e,l),o)}function windowResized(){extentsX=windowWidth,extentsY=windowHeight,resizeCanvas(extentsX,extentsY),CopyCellsToNewArraySize()}function CopyCellsToNewArraySize(){var e=numCellsX,l=numCellsY;numCellsX=floor(extentsX/cellSize),numCellsY=floor(extentsY/cellSize);for(var o=Math.min(numCellsX,e),n=Math.min(numCellsY,l),s=0;s<numCellsX;s++){s>=o&&(cells[s]=[],cellsTemp[s]=[]);for(var t=0;t<numCellsY;t++)(s>=o||t>=n)&&(cells[s][t]=0,cellsTemp[s][t]=0)}}}